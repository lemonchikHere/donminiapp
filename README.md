# Don Estate - Telegram Mini App

**Don Estate** ‚Äî —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–≥–µ–Ω—Ç—Å—Ç–≤–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤ –î–æ–Ω–µ—Ü–∫–µ, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –≤ –≤–∏–¥–µ Telegram Mini App. –û–Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏—Å–∫–∞—Ç—å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –Ω–∞ –∫–∞—Ä—Ç–µ, –æ–±—â–∞—Ç—å—Å—è —Å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

-   **–ë—ç–∫–µ–Ω–¥:** Python, FastAPI, SQLAlchemy, Telethon, Aiogram
-   **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º pgvector
-   **–§—Ä–æ–Ω—Ç–µ–Ω–¥:** React (—á–µ—Ä–µ–∑ CDN), JavaScript (ES6+), HTML5, CSS3
-   **–î–µ–ø–ª–æ–π:** Docker, Docker Compose

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

-   **–ü–∞—Ä—Å–∏–Ω–≥ –æ–±—ä—è–≤–ª–µ–Ω–∏–π:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –∏–∑ Telegram-–∫–∞–Ω–∞–ª–æ–≤.
-   **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫:** –£–º–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –æ–±—ä–µ–∫—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤.
-   **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞:** –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ –∫–∞—Ä—Ç–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏.
-   **AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç:** –ß–∞—Ç-–±–æ—Ç –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π –∏ –ø–æ–º–æ—â–∏ –≤ –ø–æ–∏—Å–∫–µ.
-   **–ò–∑–±—Ä–∞–Ω–Ω–æ–µ –∏ –∏—Å—Ç–æ—Ä–∏—è:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏–µ—Å—è –æ–±—ä–µ–∫—Ç—ã –∏ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é.
-   **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–≤–µ—Ç–ª–æ–π –∏ —Ç–µ–º–Ω–æ–π —Ç–µ–º Telegram.

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ –≤–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Docker –∏ Docker Compose.

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone <–∞–¥—Ä–µ—Å_—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è>
    cd don-estate-app
    ```

2.  **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:**
    –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ –≤–∞—à–∏–º–∏ —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (API-–∫–ª—é—á–∏, —Ç–æ–∫–µ–Ω—ã –∏ —Ç.–¥.).
    ```bash
    cp .env.example .env
    ```
    > **‚ö†Ô∏è –í–∞–∂–Ω–æ:** –ë–µ–∑ –≤–∞–ª–∏–¥–Ω—ã—Ö –∫–ª—é—á–µ–π –¥–ª—è Telegram API –∏ OpenAI —Å–µ—Ä–≤–∏—Å—ã `parser` –∏ `chat` –Ω–µ –∑–∞–ø—É—Å—Ç—è—Ç—Å—è. –ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –æ–Ω–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω—ã –≤ `docker-compose.yml`.

3.  **–°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `media`:**
    –≠—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–∞—Ä—Å–µ—Ä –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å.
    ```bash
    mkdir -p media
    ```

4.  **–°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:**
    ```bash
    sudo docker compose up --build -d
    ```

5.  **–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `pgvector`:**
    –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É, —á—Ç–æ–±—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
    ```bash
    sudo docker compose exec postgres psql -U postgres -d don_estate -c "CREATE EXTENSION IF NOT EXISTS vector;"
    ```

6.  **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ!**
    -   **Mini App:** [http://localhost:8000](http://localhost:8000)
    -   **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Swagger):** [http://localhost:8000/docs](http://localhost:8000/docs)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ docker-compose.yml     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ Dockerfile             # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Å–±–æ—Ä–∫–∏ Docker-–æ–±—Ä–∞–∑–∞
‚îú‚îÄ‚îÄ init_db.py             # –°–∫—Ä–∏–ø—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ static/                # –§–∞–π–ª—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (HTML, CSS, JS)
‚îÇ   ‚îú‚îÄ‚îÄ app.js
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îî‚îÄ‚îÄ style.css
‚îî‚îÄ‚îÄ src/                   # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –±—ç–∫–µ–Ω–¥–∞
    ‚îú‚îÄ‚îÄ api/               # –ú–æ–¥—É–ª—å FastAPI (—Ä–æ—É—Ç–µ—Ä—ã, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
    ‚îú‚îÄ‚îÄ bot/               # –õ–æ–≥–∏–∫–∞ Telegram-–±–æ—Ç–∞ (Aiogram)
    ‚îú‚îÄ‚îÄ models/            # –ú–æ–¥–µ–ª–∏ SQLAlchemy
    ‚îú‚îÄ‚îÄ parser/            # –ü–∞—Ä—Å–µ—Ä Telegram-–∫–∞–Ω–∞–ª–∞ (Telethon)
    ‚îî‚îÄ‚îÄ services/          # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç, –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è)
```

## üõ† –í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è

–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω—ã –≤ `docker-compose.yml` –∏ `src/api/main.py` –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö API-–∫–ª—é—á–µ–π:

-   **`parser`:** –°–µ—Ä–≤–∏—Å, –æ—Ç–≤–µ—á–∞—é—â–∏–π –∑–∞ –ø–∞—Ä—Å–∏–Ω–≥ Telegram-–∫–∞–Ω–∞–ª–∞.
-   **`chat`:** –†–æ—É—Ç–µ—Ä API –¥–ª—è —á–∞—Ç–∞ —Å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º.

–î–ª—è –∏—Ö –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–Ω–µ—Å—Ç–∏ –≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ `.env` –∏ —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏ –≤ `docker-compose.yml` –∏ `src/api/main.py`.
